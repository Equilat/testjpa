/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
create table Date (id bigint generated by default as identity (start with 1), pause boolean not null, primary key (id))
create table Participant (mail varchar(255) not null, nom varchar(255), prenom varchar(255), primary key (mail))
create table PrefsAlimentaires (id bigint generated by default as identity (start with 1), alimentsBase varchar(255), primary key (id))
create table Reunion (id bigint generated by default as identity (start with 1), intitule varchar(255), resume varchar(255), primary key (id))
create table Sondage (id bigint generated by default as identity (start with 1), lienWeb varchar(255), primary key (id))
INSERT INTO PARTICIPANT VALUES('martin2@mail.com',NULL,NULL)
COMMIT
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
create table PARTICIPANT_SONDAGE (sondages_id bigint not null, participants_mail varchar(255) not null)
alter table Participant add column reunion_id bigint
alter table Reunion add column dateFixee_id bigint
alter table Date add constraint FK_gxf3gjq6289obpnui2klefiil foreign key (Id) references Sondage
alter table PARTICIPANT_SONDAGE add constraint FK_d99kr0uewal2nccvsck13sdn2 foreign key (participants_mail) references Participant
alter table PARTICIPANT_SONDAGE add constraint FK_qv7tosdx9oa1sm2a3kmd5hyva foreign key (sondages_id) references Sondage
alter table Participant add constraint FK_lx5ve72vgb6h9905a83td6l43 foreign key (reunion_id) references Reunion
alter table Reunion add constraint FK_leur2ry9bdixwjovw962jpdar foreign key (dateFixee_id) references Date
/*C4*/SET SCHEMA PUBLIC
DELETE FROM PARTICIPANT WHERE MAIL='martin2@mail.com'
COMMIT
/*C8*/DISCONNECT
/*C9*/SET SCHEMA PUBLIC
INSERT INTO PARTICIPANT VALUES('martin2@mail.com',NULL,NULL,NULL)
COMMIT
DISCONNECT
/*C4*/DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
